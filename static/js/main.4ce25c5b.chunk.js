(this.webpackJsonpemotion=this.webpackJsonpemotion||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(6),o=a.n(r),s=(a(27),a(12)),i=a(4),l=(a(28),a(11)),u=a.n(l),j=a(21),m=a(8),b=a.n(m);b.a.defaults.baseURL="https://pixabay.com/api/",b.a.defaults.params={image_type:"photo",key:"21072245-3acfda09a1d5bc65070e6b336"};var g={fetchImages:function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentPage,c=t.searchQuery,e.next=3,b.a.get("",{params:{currentPage:a,q:c}}).then((function(e){return e.data.hits}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=a(1),d=function(e){var t=e.children;return Object(h.jsx)("div",{children:t})},f=function(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(i.a)(a,2),r=n[0],o=n[1];return Object(h.jsx)("header",{className:"Searchbar",children:Object(h.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(r),o("")},children:[Object(h.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(h.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(h.jsx)("input",{onChange:function(e){o(e.currentTarget.value)},className:"SearchForm-input",value:r,type:"text",autoComplete:"off",placeholder:"Search images and photos"})]})})},O=function(e){e.id;var t=e.webformatURL,a=e.largeImageURL,c=e.tags,n=e.handleLargeURLImage,r=function(e){"IMG"===e.target.nodeName&&n(e.target.dataset.large)};return Object(h.jsx)("li",{className:"ImageGalleryItem",onClick:r,children:Object(h.jsx)("img",{src:t,alt:c,className:"ImageGalleryItem-image",onClick:r,"data-large":a})},t)};O.defaultProps={id:"",webformatURL:"",largeImageURL:"",tags:"",handleLargeURLImage:""};var p=O,x=function(e){var t=e.images,a=e.handleLargeURLImage,c=function(e){console.log("gallery click")},n=function(e){a(e)};return Object(h.jsx)("ul",{className:"ImageGallery",id:"imagesList",children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL,o=e.tags,s=e.user;return Object(h.jsx)(p,{onClick:c,webformatURL:a,largeImageURL:r,tag:o,handleLargeURLImage:n},"".concat(t).concat(s))}))})},v=function(e){var t=e.onClick;return Object(h.jsx)("button",{className:"ButtonWrapper",onClick:t,children:"Load more..."})},L=document.querySelector("#modal"),I=function(e){var t=e.largeImageURL,a=e.onClose,c=e.children;return Object(r.createPortal)(Object(h.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&a()},children:Object(h.jsxs)("div",{className:"Modal",children:[c,Object(h.jsx)("img",{src:t,alt:"No available",width:"640"})]})}),L)},S=a(22),y=a.n(S),R=function(){return Object(h.jsx)("div",{className:"LoaderWrapper",children:Object(h.jsx)(y.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})};var U=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),l=o[0],u=o[1],j=Object(c.useState)(""),m=Object(i.a)(j,2),b=m[0],O=m[1],p=Object(c.useState)(!1),L=Object(i.a)(p,2),S=L[0],y=L[1],U=Object(c.useState)(null),N=Object(i.a)(U,2),w=N[0],k=N[1],C=Object(c.useState)(!1),F=Object(i.a)(C,2),P=F[0],E=F[1],G=Object(c.useState)(1),T=Object(i.a)(G,2),B=T[0],M=T[1];Object(c.useEffect)((function(){k(w)}),[w]),Object(c.useEffect)((function(){""!==l&&q()}),[l]);var q=function(){y(!0);var e={searchQuery:l,currentPage:B};g.fetchImages(e).then((function(e){n([].concat(Object(s.a)(a),Object(s.a)(e))),M((function(e){return e+1})),k("")})).catch((function(e){return console.log(e)})).finally((function(){y(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))};return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(d,{children:[P&&Object(h.jsx)(I,{onClose:function(){return E(!P)},largeImageURL:b}),Object(h.jsx)(f,{onSubmit:function(e){""!==e.trim()?(u(e),M(1),n([])):alert("Please write something")}}),a.length>0&&Object(h.jsx)(x,{images:a,handleLargeURLImage:function(e){O(e),E(!0)}}),S?Object(h.jsx)(R,{error:w}):a.length>0&&Object(h.jsx)(v,{onClick:q})]})})};o.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(U,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.4ce25c5b.chunk.js.map