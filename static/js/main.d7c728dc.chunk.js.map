{"version":3,"sources":["services/config.js","services/images-api.js","components/Container/Container.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","App.js","index.js"],"names":["config","currentPage","searchQuery","method","baseURL","params","API","axios","defaults","fetchImages","a","get","then","response","data","hits","Container","children","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","type","onChange","autoComplete","placeholder","PureComponent","defaultProps","ImageGalleryItem","handleClick","target","nodeName","largeImageURL","dataset","large","handleLargeURLImage","webformatURL","id","tags","onClick","src","alt","ImageGallery","console","log","images","map","user","tag","Component","Button","hasError","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handkeBackdropClick","window","addEventListener","removeEventListener","createPortal","width","Loader","color","height","App","filter","isLoading","error","showModal","onChangeQuery","options","imagesApi","prevState","catch","finally","scrollTo","top","scrollHeight","behavior","toggleModal","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d7c728dc.chunk.js","sourcesContent":["const config = {\r\n  currentPage: 1,\r\n  searchQuery: \"\",\r\n  method: \"get\",\r\n  baseURL: \"https://pixabay.com/api/\",\r\n  params: \"&image_type=photo\",\r\n  API: \"21072245-3acfda09a1d5bc65070e6b336\",\r\n};\r\n\r\nexport default config;\r\n","import axios from \"axios\";\r\nimport config from \"./config\";\r\n\r\naxios.defaults.params = {\r\n  ...config,\r\n};\r\n\r\nconst fetchImages = async ({ currentPage, searchQuery }) => {\r\n  const { API, params } = axios.defaults.params;\r\n  return await axios\r\n    .get(\r\n      `?key=${API}&q=${searchQuery}&${params}&page=${currentPage}`,\r\n      axios.defaults.params\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default { fetchImages };\r\n","import React from 'react';\n// import PropTypes from 'prop-types';\n// import { Test } from './Container.styles';\n\nconst Container = ({ children }) => <div>{children}</div>;\n\nexport default Container;\n","import React, { PureComponent } from \"react\";\n// import PropTypes from 'prop-types';\n// import { Test } from './Searchbar.styles';\n\nclass Searchbar extends PureComponent {\n  state = { query: \"\" };\n\n  handleChange = (e) => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: \"\" });\n  };\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            onChange={this.handleChange}\n            className=\"SearchForm-input\"\n            value={query}\n            type=\"text\"\n            autoComplete=\"off\"\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  // bla: PropTypes.string,\n};\n\nSearchbar.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Searchbar;\n","import React, { PureComponent } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nclass ImageGalleryItem extends PureComponent {\r\n  handleClick = (e) => {\r\n    if (e.target.nodeName === \"IMG\") {\r\n      this.setState({ largeImageURL: e.target.dataset.large });\r\n      this.props.handleLargeURLImage(e.target.dataset.large);\r\n    }\r\n  };\r\n  render() {\r\n    const { id, webformatURL, largeImageURL, tags } = this.props;\r\n\r\n    return (\r\n      <li\r\n        className=\"ImageGalleryItem\"\r\n        key={webformatURL}\r\n        onClick={this.handleClick}\r\n      >\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className=\"ImageGalleryItem-image\"\r\n          onClick={this.handleClick}\r\n          data-large={largeImageURL}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  // bla: PropTypes.string,\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  // bla: 'test',\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from \"react\";\n//components\nimport ImageGalleryItem from \"./ImageGalleryItem\";\n\nclass ImageGallery extends Component {\n  handleClick = (e) => {\n    // console.log(e.currentTarget);\n    // console.log(e.target);\n    console.log(\"gallery click\");\n  };\n  handleLargeURLImage = (data) => {\n    this.props.handleLargeURLImage(data);\n  };\n  render() {\n    const { images } = this.props;\n    return (\n      <ul className=\"ImageGallery\" id=\"imagesList\">\n        {images.map(({ id, webformatURL, largeImageURL, tags, user }) => (\n          <ImageGalleryItem\n            onClick={this.handleClick}\n            key={`${id}${user}`}\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            tag={tags}\n            handleLargeURLImage={this.handleLargeURLImage}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  // bla: PropTypes.string,\n};\n\nImageGallery.defaultProps = {\n  // bla: 'test',\n};\n","import React, { PureComponent } from \"react\";\n// import PropTypes from 'prop-types';\n// import { Test } from './Button.styles';\n\nclass Button extends PureComponent {\n  state = {\n    hasError: false,\n  };\n\n  render() {\n    return (\n      <button className=\"ButtonWrapper\" onClick={this.props.onClick}>\n        Load more...\n      </button>\n    );\n  }\n}\n\nButton.propTypes = {\n  // bla: PropTypes.string,\n};\n\nButton.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Button;\n","import React, { PureComponent } from \"react\";\n// import PropTypes from 'prop-types';\n// import { Test } from './Modal.styles';\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal\");\nclass Modal extends PureComponent {\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n  handkeBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    const { largeImageURL } = this.props;\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handkeBackdropClick}>\n        <div className=\"Modal\">\n          {this.props.children}\n          <img src={largeImageURL} alt=\"No available\" width=\"640\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nModal.propTypes = {\n  // bla: PropTypes.string,\n};\n\nModal.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Modal;\n","import React, { PureComponent } from \"react\";\n// import PropTypes from 'prop-types';\nimport ThreeDots from \"react-loader-spinner\";\n\nclass Loader extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hasError: false,\n    };\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <h1>Something went wrong.</h1>;\n    }\n    return (\n      <div className=\"LoaderWrapper\">\n        <ThreeDots type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n      </div>\n    );\n  }\n}\n\nLoader.propTypes = {\n  // bla: PropTypes.string,\n};\n\nLoader.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Loader;\n","/* eslint-disable react/no-unused-state */\nimport \"./App.css\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\n\nimport imagesApi from \"./services/images-api\";\n\nimport Container from \"./components/Container/Container\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\nimport Loader from \"components/Loader/Loader\";\n\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\n\n//* const API = '21072245-3acfda09a1d5bc65070e6b336';\n//! https://pixabay.com/api/?key=21072245-3acfda09a1d5bc65070e6b336&q=yellow+flowers&image_type=photo\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: \"\",\n    largeImageURL: \"\",\n    filter: \"\",\n    isLoading: false,\n    error: null,\n    showModal: false,\n    currentPage: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  componentDidCatch(error) {\n    this.setState({ error });\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({ searchQuery: query, currentPage: 1, images: [] });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    this.setState({ isLoading: true });\n\n    const options = {\n      searchQuery,\n      currentPage,\n    };\n    imagesApi\n      .fetchImages(options)\n      .then((data) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...data],\n          currentPage: prevState.currentPage + 1,\n          error: \"\",\n        }));\n      })\n      .catch((error) => console.log(error))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.querySelector(\"#imagesList\").scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  };\n\n  toggleModal = () =>\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n\n  handleLargeURLImage = (data) => {\n    this.setState({ largeImageURL: data });\n    this.setState({ showModal: true });\n  };\n\n  render() {\n    const { images, showModal, largeImageURL, isLoading } = this.state;\n    return (\n      <div className=\"App\">\n        <Container>\n          {showModal && (\n            <Modal onClose={this.toggleModal} largeImageURL={largeImageURL} />\n          )}\n          <Searchbar\n            onSubmit={this.onChangeQuery}\n            searchQuery={this.searchQuery}\n          />\n          {images.length > 0 && (\n            <ImageGallery\n              images={images}\n              handleLargeURLImage={this.handleLargeURLImage}\n            />\n          )}\n          {isLoading ? (\n            <Loader />\n          ) : (\n            images.length > 0 && <Button onClick={this.fetchImages} />\n          )}\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}